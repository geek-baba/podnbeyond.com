(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{654:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/loyalty",function(){return s(769)}])},769:function(e,t,s){"use strict";s.r(t);var a=s(5893),r=s(7294),l=s(9008),n=s.n(l),i=s(7066);t.default=()=>{let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[x,o]=(0,r.useState)("");(0,r.useEffect)(()=>{o("demo-user-123")},[]),(0,r.useEffect)(()=>{x&&m()},[x]);let m=async()=>{try{l(!0),d(null);let e=await i.Z.get("/api/loyalty/".concat(x));e.data.success?t(e.data.account):d("Failed to fetch loyalty data")}catch(t){var e,s;console.error("Error fetching loyalty data:",t),d((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.error)||"Failed to fetch loyalty data")}finally{l(!1)}},h=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Loyalty Program - Pod & Beyond Hotel"}),(0,a.jsx)("meta",{name:"description",content:"View your loyalty points, tier status, and redemption history"})]}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your loyalty information..."})]})})]}):c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:"Loyalty Program - Pod & Beyond Hotel"})}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"❌"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Loyalty Data"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:c}),(0,a.jsx)("button",{onClick:m,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Try Again"})]})})]}):e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Loyalty Program - Pod & Beyond Hotel"}),(0,a.jsx)("meta",{name:"description",content:"View your loyalty points, tier status, and redemption history"})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Loyalty Program"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Track your rewards and benefits"})]}),(0,a.jsx)("a",{href:"/",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"← Back to Home"})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Tier"}),(0,a.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"PLATINUM":return"bg-gradient-to-r from-gray-400 to-gray-600 text-white";case"GOLD":return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white";case"SILVER":return"bg-gradient-to-r from-gray-300 to-gray-500 text-white";default:return"bg-gray-200 text-gray-800"}})(e.tier)),children:[(e=>{switch(e){case"PLATINUM":return"\uD83D\uDC8E";case"GOLD":return"\uD83E\uDD47";case"SILVER":return"\uD83E\uDD48";default:return"⭐"}})(e.tier)," ",e.tier]})]}),(0,a.jsx)("div",{className:"space-y-3",children:(e=>{switch(e){case"PLATINUM":return["3x points on all bookings","50% discount on room upgrades","Free late checkout","Priority customer support","Exclusive member events"];case"GOLD":return["2x points on all bookings","25% discount on room upgrades","Free early check-in","Dedicated customer support"];case"SILVER":return["1x points on all bookings","10% discount on room upgrades","Standard customer support"];default:return["Standard benefits"]}})(e.tier).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),e]},t))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Points Balance"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:e.points.toLocaleString()}),(0,a.jsx)("p",{className:"text-gray-600",children:"Total Points"}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["Last updated: ",p(e.lastUpdated)]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Account Info"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"User ID:"}),(0,a.jsx)("span",{className:"ml-2 font-mono text-gray-900",children:e.userId})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Member since:"}),(0,a.jsx)("span",{className:"ml-2 text-gray-900",children:p(e.createdAt)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Total bookings:"}),(0,a.jsx)("span",{className:"ml-2 text-gray-900",children:e.bookings.length})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Redemption History"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Your recent points earnings and redemptions"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:e.redemptionHistory.length>0?(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points Earned"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.redemptionHistory.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p(e.date)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.type})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.description}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:["+",e.pointsEarned]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h(e.amount)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("CONFIRMED"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})})]},e.id))})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDCCA"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Redemption History"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Start earning points by making your first booking!"}),(0,a.jsx)("a",{href:"/",className:"inline-block mt-4 bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Book Now"})]})})]}),e.bookings.length>0&&(0,a.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-md",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Bookings"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Your booking history"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-in"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-out"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.bookings.slice(0,5).map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id]}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.roomName}),(0,a.jsx)("div",{className:"text-gray-500",children:e.roomType})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p(e.checkIn)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p(e.checkOut)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h(e.totalPrice)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("CONFIRMED"===e.status?"bg-green-100 text-green-800":"PENDING"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})})]},e.id))})]})})]})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:"Loyalty Program - Pod & Beyond Hotel"})}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDCCA"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Loyalty Data Found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Unable to load your loyalty information."})]})})]})}}},function(e){e.O(0,[703,888,774,179],function(){return e(e.s=654)}),_N_E=e.O()}]);